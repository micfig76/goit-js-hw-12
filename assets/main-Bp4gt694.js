var w=o=>{throw TypeError(o)};var L=(o,e,t)=>e.has(o)||w("Cannot "+t);var i=(o,e,t)=>(L(o,e,"read from private field"),t?t.call(o):e.get(o)),d=(o,e,t)=>e.has(o)?w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),u=(o,e,t,s)=>(L(o,e,"write to private field"),s?s.call(o,t):e.set(o,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();var l;class S{constructor(e){d(this,l);u(this,l,document.querySelector(e))}getElement(){return i(this,l)}show(){i(this,l).classList.remove("hidden")}hide(){i(this,l).classList.add("hidden")}}l=new WeakMap;const q="35720970-632b5595f4a574f3205602e3c",P=async(o,e=1)=>{const t=new URLSearchParams({key:q,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:40});return(await axios.get("https://pixabay.com/api/",{params:t})).data};var m,h,p,y;class x{constructor(e,t,s,r){d(this,m);d(this,h);d(this,p);d(this,y);u(this,m,document.querySelector(e)),u(this,h,t),u(this,p,s),u(this,y,r)}async loadPhotos(e,t){i(this,p).show();const s=await P(e,t);if(console.log(s),s.hits.length===0){iziToast.error({message:"Sorry, there are no images matching your search. Please try again later",position:"topRight"}),i(this,m).replaceChildren();return}const r=s.hits.map(v).map(E).map(a=>C(a,i(this,h)));i(this,m).replaceChildren(...r),i(this,h).refresh(),i(this,p).hide(),40<s.totalHits?i(this,y).show():iziToast.info({message:"Sorry, there are no images matching your search. Please try again later",position:"topRight"})}}m=new WeakMap,h=new WeakMap,p=new WeakMap,y=new WeakMap;const v=({webformatURL:o,largeImageURL:e,tags:t,likes:s,views:r,comments:n,downloads:a})=>({webformatURL:o,largeImageURL:e,tags:t,likes:s,views:r,comments:n,downloads:a}),E=({webformatURL:o,largeImageURL:e,tags:t,likes:s,views:r,comments:n,downloads:a})=>{const g=document.querySelector("template#card-template"),c=document.importNode(g.content,!0),f=c.querySelector("a#lightbox-link");f.href=e;const b=c.querySelector("img.card-img");return b.src=o,b.alt=t,b.title=t,c.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=s,c.querySelector('span.card-stats-item-count[data-item="views"]').textContent=r,c.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=n,c.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=a,c};function C(o,e){return o.querySelector("a#lightbox-link").addEventListener("click",t=>{t.preventDefault();const s=r=>{r.key==="Escape"&&(document.removeEventListener("keydown",s),e.close())};document.addEventListener("keydown",s),e.open(t.currentTarget)}),o}const O=()=>{const o=new SimpleLightbox(".gallery #lightbox-link"),e=new S("div.loader"),t=new S('button[type="button"].btn'),s=new x(".gallery",o,e,t);let r,n=1;document.querySelector("form#image-search").addEventListener("submit",async g=>{g.preventDefault();const c=g.target,f=c.elements.query.value;c.reset(),r=f,n=1,await s.loadPhotos(f,n)});const a=t.getElement();console.log(a),t.getElement().addEventListener("click",async()=>{console.log(t),n++,await s.loadPhotos(r,n)})};O();
//# sourceMappingURL=main-Bp4gt694.js.map
