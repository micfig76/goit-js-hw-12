var b=o=>{throw TypeError(o)};var L=(o,e,t)=>e.has(o)||b("Cannot "+t);var i=(o,e,t)=>(L(o,e,"read from private field"),t?t.call(o):e.get(o)),d=(o,e,t)=>e.has(o)?b("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t),u=(o,e,t,n)=>(L(o,e,"write to private field"),n?n.call(o,t):e.set(o,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var l;class q{constructor(e){d(this,l);u(this,l,document.querySelector(e))}getElement(){return i(this,l)}show(){i(this,l).classList.remove("hidden")}hide(){i(this,l).classList.add("hidden")}}l=new WeakMap;const S="35720970-632b5595f4a574f3205602e3c",x=async o=>{const e=new URLSearchParams({key:S,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0});return(await axios.get("https://pixabay.com/api/",{params:e})).data};var m,h,p,f;class v{constructor(e,t,n,r){d(this,m);d(this,h);d(this,p);d(this,f);u(this,m,document.querySelector(e)),u(this,h,t),u(this,p,n),u(this,f,r)}async loadPhotos(e){i(this,p).show();const t=await x(e);if(console.log(t),t.hits.length===0){iziToast.error({message:"Sorry, there are no images matching your search. Please try again later",position:"topRight"}),i(this,m).replaceChildren();return}const n=t.hits.map(E).map(P).map(r=>C(r,i(this,h)));i(this,m).replaceChildren(...n),i(this,h).refresh(),i(this,p).hide()}}m=new WeakMap,h=new WeakMap,p=new WeakMap,f=new WeakMap;const E=({webformatURL:o,largeImageURL:e,tags:t,likes:n,views:r,comments:s,downloads:a})=>({webformatURL:o,largeImageURL:e,tags:t,likes:n,views:r,comments:s,downloads:a}),P=({webformatURL:o,largeImageURL:e,tags:t,likes:n,views:r,comments:s,downloads:a})=>{const y=document.querySelector("template#card-template"),c=document.importNode(y.content,!0),w=c.querySelector("a#lightbox-link");w.href=e;const g=c.querySelector("img.card-img");return g.src=o,g.alt=t,g.title=t,c.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=n,c.querySelector('span.card-stats-item-count[data-item="views"]').textContent=r,c.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=s,c.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=a,c};function C(o,e){return o.querySelector("a#lightbox-link").addEventListener("click",t=>{t.preventDefault();const n=r=>{r.key==="Escape"&&(document.removeEventListener("keydown",n),e.close())};document.addEventListener("keydown",n),e.open(t.currentTarget)}),o}const O=()=>{const o=new SimpleLightbox(".gallery #lightbox-link"),e=new q("div.loader"),t=new q('button[type="button"].btn'),n=new v(".gallery",o,e,t);let r;document.querySelector("form#image-search").addEventListener("submit",async s=>{s.preventDefault();const a=s.target,y=a.elements.query.value;a.reset(),r=y,await n.loadPhotos(y)}),t.getElement().addEventListener("click",()=>n.loadPhotos(r))};O();
//# sourceMappingURL=main-lfEbkkiS.js.map
